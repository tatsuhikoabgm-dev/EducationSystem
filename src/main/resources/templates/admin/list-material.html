<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
	<link th:href="@{css/style.css}" rel="stylesheet">
	<title>教材管理システム</title>
</head>

<body>
	<header>
		<nav class="navbar navbar-light bg-light">
			<div class="container">
				<a class="navbar-brand" href="">教材管理システム</a>
				<ul class="navbar-nav">
					<li class="nav-item">山田太郎 [<a href="">ログアウト</a>]</li>
				</ul>
			</div>
		</nav>
	</header>
	<div class="container">

		<h1 class="my-4 h3">視聴覚教材リスト</h1>

		<div class="row">
			<div class="col">
				<p>
					<a th:href="@{/admin/material/add}" class="btn btn-primary">視聴覚教材の追加</a>
					<a th:href="@{/admin/student/list}" class="btn btn-light">生徒リスト</a>
				</p>
				<div class="alert alert-success" th:if="${msg}" th:text="${msg}"></div>
				<table class="table table-bordered">
					<tr>
						<th>教材名</th>
						<th>種類</th>
						<th>登録日</th>
						<th>編集</th>
						<th>削除</th>
					</tr>
					<tr th:each="material : ${materials.result}">
						<td><a th:text="${material.name}" th:href="@{/admin/material/show/{id}(id=${material.id})}"></a>
						</td>
						<td th:text="${material.materialType.name}"></td>
						<td th:text="${#temporals.format(material.created,'yyyy年MM月dd日(E)hh時mm分ss秒')}"></td>
						<td><a th:href="@{/admin/material/edit/{id}(id = ${material.id})}"
								class="btn btn-warning btn-sm">編集</a></td>
						<td><a th:href="@{/admin/material/delete/{id}(id = ${material.id})}"
								class="btn btn-danger btn-sm delete">削除</a></td>
					</tr>

				</table>

				<ul class="pagination">
					<li class="page-item" th:classappend="${materials.currentPage == 1} ? 'disabled'">
						<a class="page-link" th:href="@{/admin/material/list(page=1)}">&laquo;</a>
					</li>
					<li class="page-item" th:classappend="${materials.currentPage == 1} ? 'disabled'">
						<a class="page-link"
							th:href="@{/admin/material/list(page=${materials.currentPage - 1})}">&lt;</a>
					</li>
					<li class="page-item" th:each="p : ${#numbers.sequence(materials.startPage, materials.endPage)}"
						th:classappend="${p == materials.currentPage} ? 'active' : ''">
						<a class="page-link" th:text="${p}" th:href="@{/admin/material/list(page=${p})}"></a>
					</li>
					<li class="page-item" th:classappend="${materials.currentPage == materials.totalPage} ? 'disabled'">
						<a class="page-link" th:href="@{/admin/material/list(page=${materials.currentPage + 1})}">&gt;</a>
					</li>
					<li class="page-item" th:classappend="${materials.currentPage == materials.totalPage} ? 'disabled'">
						<a class="page-link" th:href="@{/admin/material/list(page=${materials.totalPage})}">&raquo;</a>
					</li>
				</ul>
			</div><!-- /.col- -->
		</div><!-- /.row -->

	</div><!-- /.container -->
	<script th:src="@{/js/jquery-3.6.1.min.js}"></script>
	<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
	<script th:src="@{/js/button-action.js}"></script>
</body>

</html>