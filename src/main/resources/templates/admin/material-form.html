<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
	<link th:href="@{/css/style.css}" rel="stylesheet">
	<title>教材管理システム</title>
</head>

<body>
	<header>
		<nav class="navbar navbar-light bg-light">
			<div class="container">
				<a class="navbar-brand" href="">教材管理システム</a>
				<ul class="navbar-nav">
					<li class="nav-item">山田太郎 [<a href="">ログアウト</a>]</li>
				</ul>
			</div>
		</nav>
	</header>
	<div class="container">

		<h1 class="my-4 h3" th:text="${title}"></h1>

		<div class="row">
			<div class="col">

				<form class="form" th:object="${materialForm}" th:action="@{/admin/material/{method}(method = ${method})}"
					method="post">
					<input type="hidden" th:field="*{id}" />
					<div class="row mb-3">
						<label for="name" class="col-md-2 col-form-label">教材名</label>
						<div class="col-md-10">
							<input type="text" id="name" class="form-control" th:field="*{name}"  th:attr="readonly=${method == 'edit'}" placeholder="【必須】30文字以内" >
							<div class="error-message mt-2" th:errors="*{name}"></div>
							<div class="error-message mt-2" th:text="${msg}"></div>
						</div>
					</div>
					<div class="row mb-3">
						<label for="publisher" class="col-md-2 col-form-label">出版元</label>
						<div class="col-md-10">
							<input type="text" id="publisher" class="form-control" th:field="*{publisher}"
								placeholder="30文字以内">
							<div class="error-message mt-2" th:errors="*{publisher}"></div>
						</div>
					</div>

					<div class="row mb-3">
						<label for="note" class="col-md-2 col-form-label">備考</label>
						<div class="col-md-10">
							<input type="text" size="50" id="note" class="form-control" th:field="*{note}"
								placeholder="100文字以内">
							<div class="error-message mt-2" th:errors="*{note}"></div>
						</div>
					</div>

					<div class="row mb-3">
						<label for="material-type" class="col-md-2 col-form-label">種類</label>
						<div class="col-md-10">
							<select id="material-type" class="form-control" th:field="*{materialType.id}">
								<option value="">選択してください</option>
								<option th:each="type : ${types}" th:value="${type.id}" th:text="${type.name}"></option>
							</select>
							<div class="error-message mt-2" th:errors="*{materialType.id}"></div>
						</div>
					</div>

					<input class="btn btn-primary" type="submit" value="保存する">
					<a th:href="@{/admin/material/list}" class="btn btn-light">キャンセル</a>
				</form>

			</div><!-- /.col- -->
		</div><!-- /.row -->

	</div><!-- /.container -->
	<script th:src="@{/js/jquery-3.6.1.min.js}"></script>
	<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>

</html>